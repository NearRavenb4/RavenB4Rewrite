--Raven B4 Loader
repeat task.wait() until game:IsLoaded()
task.wait(2)
assert(not shared.RavenB4Injected, "RavenB4 is already Injected!")
shared.RavenB4Injected = true
local UIS = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local lib = {}

if shared.RavenWhitelist ~= nil then
    for i,v in pairs(shared.RavenWhitelist) do
        if v == game:GetService("RbxAnalyticsService"):GetClientId() then
            print("Whitelisted!")
        else
            LocalPlayer:Kick("You're not Whitelisted from this Config!")
        end
    end
end
if shared.RavenBlacklist ~= nil then
    for i,v in pairs(shared.RavenBlacklist) do
        if v == game:GetService("RbxAnalyticsService"):GetClientId() then
            LocalPlayer:Kick("You're Blacklisted from this Config!")
        end
    end
end
--SETTING EVERYTHING UP
if not ((writefile) or (readfile) or (makefolder)) then
    LocalPlayer:Kick("Executor is not supported, please use another executor for Raven B4!")
end

if isfolder("RavenB4") == false then
    makefolder("RavenB4")
end
if isfolder("RavenB4\\Configs") == false then
    makefolder("RavenB4\\Configs")
end
local PetSim99IDCheck = false
local BedwarsIDCheck = false
local SkywarsIDCheck = false
local BridgeDuelsIDCheck = false
local bedwarsids = {6872265039,6872274481,8444591321,8560631822}
local skywarsids = {8542259458,8542275097,8592115909,8768229691,8951451142,13246639586}
local BridgeDuelsId = {11630038968, 12011959048, 13432875469, 14191889582, 14662411059, 15221657720}
local BedWarzid = {17750024818,18456763535,18836990947,71264075259626}

if table.find(bedwarsids,game.PlaceId) then
    shared.RavenConfigName = 'Raven B4 Bedwars'
    BedwarsIDCheck = true
elseif table.find(skywarsids,game.PlaceId) then
    shared.RavenConfigName = 'NewSkywarsUpdated'
    SkywarsIDCheck = true
elseif table.find(BedWarzid,game.PlaceId) then
    shared.RavenConfigName = 'BedWarz'
    BedWarzIDCheck = true
elseif table.find(BridgeDuelsId,game.PlaceId) then
    shared.RavenConfigName = 'BridgeDuels'
    BridgeDuelsIDCheck = true
else
    print("Game Is Not Supported!")
end

if shared.RavenConfigName == nil then
    shared.RavenConfigName = 'Default Config'
end

if UIS.KeyboardEnabled and UIS.MouseEnabled and not UIS.TouchEnabled then
    lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/NearRavenb4/RavenB4Rewrite/refs/heads/main/Gui"))()
else
    lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/NearRavenb4/RavenB4Rewrite/refs/heads/main/Gui"))()
end

if BedwarsIDCheck == true then
    loadstring(game:HttpGet("https://gist.githubusercontent.com/NearRavenb4/363a2dba2437a39fe322f0b8ccee4764/raw/6ecf41da63981106bfd79bc9ec7e733d7e3964bf/RavenRewrite_bedwars"))()
elseif SkywarsIDCheck == true then
    --[[loadstring(game:HttpGet("https://gist.githubusercontent.com/cocotv666/317cf83ad7e44f8bd0c13c405ddc9dcd/raw/92237b348b1678ccc8e6648de23d0a07a197a01c/RavenB4Rewrite_SkyWars"))()
    lib:createnotification("BEST Skywars Script out there!",6)]]
elseif BedWarzIDCheck == true then
    loadstring(game:HttpGet("https://gist.githubusercontent.com/cocotv666/418f9dd85847e51c0f400d88e9ac05f5/raw/faae5a5d19f306498ec485a856464fb83fdc69ca/RavenB4Rewrite_BedWarz"))()
    --lib:createnotification("BEST BladeBall Script out there!",6)
elseif BridgeDuelsIDCheck == true then
    loadstring(game:HttpGet("https://gist.githubusercontent.com/cocotv666/f7e330b16a618275617360c16f423049/raw/09d0497e399f4faed980e4702794fbb328459559/Raven_BridgeDuel"))()
    lib:createnotification("BEST BridgeDuel Script out there!",6)
else
    lib:createnotification("Game is not supported!",6)
    if shared.RavenB4Started == nil then
        shared.RavenB4Completed = true
    end
end


return lib
